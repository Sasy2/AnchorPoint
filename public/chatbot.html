<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>AnchorPoint - Mindful Coach</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#427cf0",
                        "background-light": "#f6f6f8",
                        "background-dark": "#101622",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.5rem",
                        "lg": "1rem",
                        "xl": "1.5rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
<style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .chat-message {
            animation: fadeInUp 0.3s ease-out;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .typing-indicator {
            animation: pulse 1.5s ease-in-out infinite;
        }
    </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-[#111318] dark:text-gray-200">
<div class="relative flex min-h-screen w-full">
<!-- Side Navigation -->
<aside class="flex h-screen w-64 flex-col border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-background-dark p-4 sticky top-0">
<div class="flex h-full flex-col justify-between">
<div class="flex flex-col gap-4">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
<span class="material-symbols-outlined text-primary">psychology</span>
</div>
<div class="flex flex-col">
<h1 class="text-base font-medium leading-normal text-[#111318] dark:text-white">Mindful Coach</h1>
<p class="text-sm font-normal leading-normal text-[#616f89] dark:text-gray-400">Your AI companion</p>
</div>
</div>
<nav class="mt-4 flex flex-col gap-2">
<a class="nav-link flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors" href="index.html">
<span class="material-symbols-outlined text-[#111318] dark:text-gray-300">home</span>
<p class="text-sm font-medium leading-normal text-[#111318] dark:text-gray-300">Home</p>
</a>
<a class="nav-link flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors" href="activities.html">
<span class="material-symbols-outlined text-[#111318] dark:text-gray-300">grass</span>
<p class="text-sm font-medium leading-normal text-[#111318] dark:text-gray-300">Activities</p>
</a>
<a class="nav-link flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/20 text-primary dark:bg-primary/30 dark:text-primary" href="chatbot.html">
<span class="material-symbols-outlined !fill-1">psychology</span>
<p class="text-sm font-medium leading-normal">Mindful Coach</p>
</a>
</nav>
</div>
<div class="flex flex-col gap-1">
<button id="clear-chat-btn" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors text-red-600 dark:text-red-400">
<span class="material-symbols-outlined">delete</span>
<p class="text-sm font-medium leading-normal">Clear Chat</p>
</button>
</div>
</div>
</aside>

<!-- Main Chat Area -->
<main class="flex-1 flex flex-col">
<!-- Chat Header -->
<div class="border-b border-gray-200 dark:border-gray-800 p-4">
<div class="flex items-center justify-between">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-primary">psychology</span>
</div>
<div>
<h1 class="text-lg font-bold text-[#111318] dark:text-white">Mindful Coach</h1>
<p class="text-sm text-[#616f89] dark:text-gray-400">I'm here to support you on your mental health journey</p>
</div>
</div>
<div class="flex items-center gap-2">
<span id="connection-status" class="flex items-center gap-1 text-sm text-green-600 dark:text-green-400">
<span class="w-2 h-2 bg-green-500 rounded-full"></span>
Online
</span>
</div>
</div>
</div>

<!-- Chat Messages -->
<div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4">
<!-- Welcome message -->
<div class="chat-message flex items-start gap-3">
<div class="w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
<span class="material-symbols-outlined text-primary text-sm">psychology</span>
</div>
<div class="bg-white dark:bg-gray-800 rounded-lg p-3 max-w-md">
<p class="text-sm text-[#111318] dark:text-white">Hello! I'm your Mindful Coach. I'm here to provide supportive guidance and help you navigate your mental health journey. How are you feeling today?</p>
<p class="text-xs text-[#616f89] dark:text-gray-400 mt-1">Just now</p>
</div>
</div>
</div>

<!-- Chat Input -->
<div class="border-t border-gray-200 dark:border-gray-800 p-4">
<div class="flex items-end gap-3">
<div class="flex-1">
<textarea id="message-input" class="w-full resize-none border border-gray-300 dark:border-gray-600 rounded-lg p-3 bg-white dark:bg-gray-800 text-[#111318] dark:text-white placeholder:text-[#616f89] dark:placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="Type your message here..." rows="2"></textarea>
</div>
<button id="send-btn" class="flex items-center justify-center w-12 h-12 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
<span class="material-symbols-outlined">send</span>
</button>
</div>
<div class="flex items-center justify-between mt-2">
<div class="flex items-center gap-4">
<button class="flex items-center gap-1 text-xs text-[#616f89] dark:text-gray-400 hover:text-primary transition-colors">
<span class="material-symbols-outlined text-sm">mood</span>
Suggestions
</button>
</div>
<p class="text-xs text-[#616f89] dark:text-gray-400">Remember: I'm an AI assistant, not a replacement for professional therapy</p>
</div>
</div>
</main>
</div>

<script>
class Chatbot {
  constructor() {
    this.messageInput = document.getElementById('message-input');
    this.sendBtn = document.getElementById('send-btn');
    this.chatMessages = document.getElementById('chat-messages');
    this.clearChatBtn = document.getElementById('clear-chat-btn');
    
    this.isTyping = false;
    this.init();
  }

  init() {
    this.setupEventListeners();
  }

  setupEventListeners() {
    // Send message
    this.sendBtn.addEventListener('click', () => this.sendMessage());
    this.messageInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        this.sendMessage();
      }
    });

    // Clear chat
    this.clearChatBtn.addEventListener('click', () => this.clearChat());

    // Auto-resize textarea
    this.messageInput.addEventListener('input', () => {
      this.messageInput.style.height = 'auto';
      this.messageInput.style.height = this.messageInput.scrollHeight + 'px';
    });
  }

  async sendMessage() {
    const message = this.messageInput.value.trim();
    if (!message || this.isTyping) return;

    // Add user message to chat
    this.addMessage(message, 'user');
    this.messageInput.value = '';
    this.messageInput.style.height = 'auto';

    // Show typing indicator
    this.showTypingIndicator();

    // Simulate AI response with timeout
    setTimeout(() => {
      this.hideTypingIndicator();
      const response = this.generateAIResponse(message);
      this.addMessage(response, 'assistant');
    }, 1000 + Math.random() * 2000);
  }

  generateAIResponse(message) {
    const lowerMessage = message.toLowerCase();
    
    // Track conversation context
    if (!this.conversationHistory) {
      this.conversationHistory = [];
    }
    this.conversationHistory.push({ role: 'user', content: message });
    
    // Keywords for emotional states
    const emotionalKeywords = {
      anxiety: ['anxious', 'anxiety', 'worried', 'worry', 'nervous', 'panic', 'scared', 'fear', 'afraid'],
      sadness: ['sad', 'depressed', 'down', 'lonely', 'hopeless', 'crying', 'tears', 'unhappy'],
      anger: ['angry', 'mad', 'furious', 'frustrated', 'irritated', 'annoyed', 'rage'],
      stress: ['stressed', 'overwhelmed', 'pressure', 'tension', 'strain', 'buried'],
      tiredness: ['tired', 'exhausted', 'drained', 'weary', 'sleepy', 'fatigue'],
      happiness: ['happy', 'joyful', 'excited', 'great', 'amazing', 'wonderful', 'fantastic', 'good'],
      confusion: ['confused', 'lost', 'uncertain', 'doubt', 'unsure', 'unclear'],
      gratitude: ['grateful', 'thankful', 'appreciate', 'blessed', 'lucky'],
      calm: ['calm', 'peaceful', 'relaxed', 'serene', 'tranquil', 'chill']
    };
    
    // Detect emotional state
    let detectedEmotion = null;
    for (const [emotion, keywords] of Object.entries(emotionalKeywords)) {
      if (keywords.some(keyword => lowerMessage.includes(keyword))) {
        detectedEmotion = emotion;
        break;
      }
    }
    
    // Question detection
    const isQuestion = lowerMessage.includes('?') || 
                       lowerMessage.startsWith('how') || 
                       lowerMessage.startsWith('what') || 
                       lowerMessage.startsWith('why') || 
                       lowerMessage.startsWith('when') || 
                       lowerMessage.startsWith('where') ||
                       lowerMessage.startsWith('can') ||
                       lowerMessage.startsWith('should');
    
    // Greeting detection
    const isGreeting = lowerMessage.includes('hello') || 
                       lowerMessage.includes('hi') || 
                       lowerMessage.includes('hey');
    
    // Request for help
    const needsHelp = lowerMessage.includes('help') || 
                      lowerMessage.includes('support') || 
                      lowerMessage.includes('advice');
    
    // Techniques/coping
    const asksAboutTechniques = lowerMessage.includes('technique') || 
                                 lowerMessage.includes('exercise') || 
                                 lowerMessage.includes('method') ||
                                 lowerMessage.includes('what can i do');
    
    // Generate contextual responses
    if (isGreeting) {
      const greetings = [
        "Hello! I'm here to support you. How are you feeling today?",
        "Hi there! I'm glad you're here. What's on your mind?",
        "Hey! I'm your Mindful Coach. How can I help you today?",
        "Welcome! I'm here to listen and support you. What would you like to talk about?"
      ];
      return greetings[Math.floor(Math.random() * greetings.length)];
    }
    
    if (asksAboutTechniques || lowerMessage.includes('breathing') || lowerMessage.includes('exercise')) {
      return this.getTechniqueResponse();
    }
    
    if (detectedEmotion === 'anxiety') {
      return this.getAnxietyResponse();
    }
    
    if (detectedEmotion === 'sadness') {
      return this.getSadnessResponse();
    }
    
    if (detectedEmotion === 'anger') {
      return this.getAngerResponse();
    }
    
    if (detectedEmotion === 'stress') {
      return this.getStressResponse();
    }
    
    if (detectedEmotion === 'tiredness') {
      return this.getTirednessResponse();
    }
    
    if (detectedEmotion === 'happiness') {
      return this.getHappinessResponse();
    }
    
    if (detectedEmotion === 'confusion') {
      return this.getConfusionResponse();
    }
    
    if (detectedEmotion === 'gratitude') {
      return this.getGratitudeResponse();
    }
    
    if (detectedEmotion === 'calm') {
      return this.getCalmResponse();
    }
    
    if (isQuestion) {
      return this.getQuestionResponse(message);
    }
    
    if (needsHelp) {
      return "I'm here to help. Let me suggest some supportive strategies:\n\n🔹 **Breathing Exercises** - Try the 4-7-8 technique or box breathing to calm your nervous system.\n\n🔹 **Grounding Techniques** - Use the 5-4-3-2-1 method to anchor yourself in the present moment.\n\n🔹 **Movement** - Even gentle stretching or a short walk can shift your state.\n\n🔹 **Journaling** - Writing about your thoughts can provide clarity.\n\nWhat would you like to try first?";
    }
    
    // General empathetic response
    return this.getGeneralEmpatheticResponse();
  }
  
  getAnxietyResponse() {
    const responses = [
      "I understand that anxiety can feel overwhelming. You're not alone in this. Let's try something practical: Take a deep breath in for 4 counts, hold for 4, breathe out for 4, and hold for 4. This box breathing can help regulate your nervous system. How does that feel?",
      "Anxiety is your body's way of trying to protect you. One way to work with it is through grounding. Right now, can you notice 3 things around you that you can see? This simple act helps bring you back to the present. What do you notice?",
      "I hear that anxiety is with you today. Let me ask - what's the most helpful thing someone has done for you when you felt anxious? Sometimes we know what we need. Can you practice a little of that now?"
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getSadnessResponse() {
    const responses = [
      "I'm sorry you're going through a hard time. It's okay to feel sad. Sometimes the most important thing is to just be gentle with yourself. Have you tried writing down how you feel? Sometimes putting thoughts on paper can make them feel less heavy.",
      "Feeling sad is a natural response to difficulty. You don't have to push it away. One practice that might help is to name three things you're grateful for today - even very small things, like a warm cup of tea or a moment of quiet. What comes to mind?",
      "Sadness is valid, and it's okay to feel this way. Sometimes simply acknowledging 'I'm sad right now' without trying to fix it can be the first step toward feeling better. What kind of support would feel helpful to you right now?"
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getAngerResponse() {
    const responses = [
      "Anger is telling you something important - maybe that a boundary was crossed or a need isn't met. Before acting on it, try this: Name 5 things you can see right now, 4 you can touch, 3 you hear, 2 you smell, and 1 you can taste. This grounding technique helps you pause.",
      "Anger is energy. Let's channel it constructively. After you've taken some deep breaths, consider: What is this anger trying to protect? Understanding that can help you respond in a way that serves you better.",
      "I hear the anger in your message. It's okay to feel this. The key is not to let it control you. Try going for a short walk or doing some physical movement - this can help move that energy through your body. How does that sound?"
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getStressResponse() {
    const responses = [
      "Stress happens when we feel the demands are greater than our resources. Let's pause and do the 4-7-8 breathing: Inhale for 4, hold for 7, exhale for 8. Repeat 4 times. This activates your body's relaxation response.",
      "When stress piles up, try breaking things down. What's one small thing you can do right now that would make a difference? Sometimes focusing on one task at a time helps reduce that overwhelmed feeling.",
      "Stress is a signal. It's saying 'slow down.' Can you take 2 minutes right now to just breathe and be present? Sometimes giving yourself permission to pause is exactly what you need."
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getTirednessResponse() {
    const responses = [
      "Feeling tired affects everything - your mood, your thinking, your energy. Consider doing some gentle movement or stretching. Even 5 minutes can boost your energy. Also, be compassionate with yourself - rest is productive too.",
      "Tiredness isn't just about sleep - it can be emotional or mental exhaustion. What's one thing that usually helps you recharge? Is there a way you could honor that need today?",
      "When you're tired, everything feels harder. Try the body scan technique: slowly notice each part of your body from toes to head. This can be done lying down and often helps both wake you up and relax you."
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getHappinessResponse() {
    const responses = [
      "That's wonderful! It's great to hear you're feeling good. When we're in a positive state, it's a perfect time to build positive habits. What made you feel this way today? And how might you extend this feeling?",
      "Feeling happy is beautiful! Consider savoring this moment - really notice what it feels like in your body, what you're thinking, what you're grateful for. These positive states are powerful for building resilience.",
      "So glad you're feeling good! When we're feeling positive, it can be helpful to journal about what contributed to this. Understanding what creates joy for us helps us cultivate more of it. What brought you joy today?"
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getConfusionResponse() {
    const responses = [
      "It's okay to feel confused. Sometimes our minds need time to process. Try the RAIN technique: Recognize what you're feeling, Allow it to be there, Investigate it with curiosity, and Nurture yourself with self-compassion. What's the confusion about?",
      "Confusion isn't a sign of weakness - sometimes it means you're stretching yourself. Can you name one thing about your situation that you're clear on? Sometimes finding the edge of clarity helps.",
      "It's natural to feel confused when facing uncertainty. Instead of trying to figure it all out at once, what's the first small thing you could understand or decide? Breaking it down helps."
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getGratitudeResponse() {
    const responses = [
      "Gratitude is powerful! Research shows that practicing gratitude regularly can boost your overall well-being. Have you ever tried a gratitude letter - writing to someone who's impacted you? It benefits both you and them.",
      "I love that you're feeling grateful. When gratitude is present, it often helps other positive emotions grow. What else feels good in your life right now? Sometimes gratitude opens the door to more joy.",
      "Gratitude strengthens the good! Consider making this a practice - at the end of each day, name three things you're grateful for. Not just big things - sometimes the simple, everyday moments matter most."
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getCalmResponse() {
    const responses = [
      "I'm glad you're feeling calm - that's a wonderful state to be in. This peaceful moment is perfect for reflection or setting intentions. How are you using this calm energy today?",
      "Calm is a gift. When you're in this peaceful state, it's a good time to plan or create. What's something meaningful you'd like to focus on? Or perhaps just enjoy the calm itself.",
      "Feeling calm is such a good foundation for well-being. You might use this state to do something for future you - plan, create, or invest in your growth. Or simply be present with this tranquility."
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }
  
  getTechniqueResponse() {
    const techniques = [
      "Here are some helpful techniques you can try:\n\n**Box Breathing**: Inhale 4, hold 4, exhale 4, hold 4. This regulates your nervous system.\n\n**5-4-3-2-1 Grounding**: Notice 5 things you see, 4 you can touch, 3 hear, 2 smell, 1 taste.\n\n**4-7-8 Breathing**: Inhale 4, hold 7, exhale 8. Very calming.\n\nWhich would you like to explore?",
      "Let me share some proven techniques:\n\n**Progressive Muscle Relaxation**: Tense then release each muscle group from toes to head.\n\n**Loving-Kindness**: Send yourself and others thoughts of wellbeing.\n\n**Body Scan**: Mindfully notice each part of your body, head to toe.\n\nWhat feels most appealing to you?",
      "Here are some effective techniques:\n\n**STOP Method**: Stop, Take a breath, Observe your experience, Proceed with intention.\n\n**Square Breathing**: Visualize drawing a square while you breathe - in (up), hold (across), out (down), hold (across).\n\nWhat resonates with you?"
    ];
    return techniques[Math.floor(Math.random() * techniques.length)];
  }
  
  getQuestionResponse(message) {
    const questions = [
      "That's a thoughtful question. Let me address that - would it help to explore this from a few different angles? What specifically are you curious about?",
      "I appreciate your question. To give you the most helpful response, can you tell me more about what led you to ask this? Context helps me support you better.",
      "That's a valid question. Sometimes the best approach is to explore it together. What's your sense of the answer? Sometimes we already know what we need - it's just about trusting ourselves."
    ];
    return questions[Math.floor(Math.random() * questions.length)];
  }
  
  getGeneralEmpatheticResponse() {
    const responses = [
      "Thank you for sharing that with me. It takes courage to open up. What would be most helpful for you right now - a practical technique, some reflection, or just being heard?",
      "I hear you. Your experience matters. How has this been affecting your daily life? Sometimes understanding the impact helps us choose the best support.",
      "Thank you for trusting me with this. What's something that usually helps when you're going through this? Let's build on what works for you.",
      "I appreciate you sharing. Let's talk about what you need most right now. Are you looking for coping strategies, emotional validation, or something else?",
      "That sounds challenging. One helpful approach is to ask: Is there something specific that would feel supportive right now? Sometimes naming what we need is the first step to getting it."
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  addMessage(content, sender) {
    const messageDiv = document.createElement('div');
    messageDiv.className = 'chat-message flex items-start gap-3';
    
    if (sender === 'user') {
      messageDiv.innerHTML = `
        <div class="flex-1"></div>
        <div class="bg-primary text-white rounded-lg p-3 max-w-md">
          <p class="text-sm">${this.escapeHtml(content)}</p>
          <p class="text-xs opacity-70 mt-1">${this.getCurrentTime()}</p>
        </div>
        <div class="w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
          <span class="material-symbols-outlined text-primary text-sm">person</span>
        </div>
      `;
    } else {
      messageDiv.innerHTML = `
        <div class="w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
          <span class="material-symbols-outlined text-primary text-sm">psychology</span>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-lg p-3 max-w-md">
          <p class="text-sm text-[#111318] dark:text-white">${this.formatAIResponse(content)}</p>
          <p class="text-xs text-[#616f89] dark:text-gray-400 mt-1">${this.getCurrentTime()}</p>
        </div>
      `;
    }
    
    this.chatMessages.appendChild(messageDiv);
    this.scrollToBottom();
  }

  showTypingIndicator() {
    this.isTyping = true;
    this.sendBtn.disabled = true;
    
    const typingDiv = document.createElement('div');
    typingDiv.id = 'typing-indicator';
    typingDiv.className = 'chat-message flex items-start gap-3';
    typingDiv.innerHTML = `
      <div class="w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
        <span class="material-symbols-outlined text-primary text-sm">psychology</span>
      </div>
      <div class="bg-white dark:bg-gray-800 rounded-lg p-3">
        <div class="flex items-center gap-1">
          <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator"></div>
          <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator" style="animation-delay: 0.2s;"></div>
          <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator" style="animation-delay: 0.4s;"></div>
        </div>
      </div>
    `;
    
    this.chatMessages.appendChild(typingDiv);
    this.scrollToBottom();
  }

  hideTypingIndicator() {
    this.isTyping = false;
    this.sendBtn.disabled = false;
    
    const typingIndicator = document.getElementById('typing-indicator');
    if (typingIndicator) {
      typingIndicator.remove();
    }
  }

  async clearChat() {
    if (confirm('Are you sure you want to clear the chat history?')) {
      const welcomeMessage = this.chatMessages.querySelector('.chat-message');
      this.chatMessages.innerHTML = '';
      this.chatMessages.appendChild(welcomeMessage);
    }
  }

  scrollToBottom() {
    this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
  }

  getCurrentTime() {
    return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }

  escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  formatAIResponse(text) {
    // Format AI response with better line breaks
    return text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
  }
}

// Initialize chatbot when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  // Initialize chatbot
  new Chatbot();
  
  // Dark mode functionality
  if (localStorage.getItem('darkMode') === 'true') {
    document.documentElement.classList.add('dark');
  }
});
</script>
</body>
</html>